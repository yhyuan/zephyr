source [find interface/ftdi/sipeed-rv-debugger.cfg]

transport select jtag

source [find target/gd32vf103.cfg]

adapter_khz 500

proc gd32vf103-pre-load {} {
	halt
}

proc gd32vf103-load {file} {
	flash protect 0 0 last off
	flash write_image erase $file
}


proc gd32vf103-post-verify {} {
	mww 0xe004200c 0x4b5a6978
	mww 0xe0042008 0x01
	resume
}
